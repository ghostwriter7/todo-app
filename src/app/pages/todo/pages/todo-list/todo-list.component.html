<div class="container">
  <ul [ngClass]="{empty: !anyTodosOnList}">
    <li
      [id]="i"
      #ref
      [draggable]="filteringMode === 'All'"
      (dragstart)="onDragStart($event)"
      (dragover)="onDragOver($event)"
      (dragenter)="onDragEnter(ref)"
      (dragleave)="onDragLeave(ref)"
      (drop)="onDrop($event, ref)"
      [ngClass]="{ active: selectedTodoIdx === i }"
      (mouseenter)="selectedTodoIdx = i;"
      (mouseleave)="selectedTodoIdx = null"
      (click)="onToggleStatus(item)"
      *ngFor="let item of mockup; let i = index"
      class="flex">
      <span
        [ngClass]="{ checked: !item.isActive }"
        class="circle">
      </span>
      <span
        [ngClass]="{ completed: !item.isActive }"
        class="text">{{ item.content }}</span>
      <span class="spacer"></span>
      <button
        class="delete-btn"
        *ngIf="selectedTodoIdx === i"
        (click)="onDelete(item)">
      </button>
    </li>
  </ul>
  <div class="filter-container flex row">
    <span class="items-left">{{ todosLeft }} items left</span>
    <div>
      <button
        (click)="onChangeMode('All')"
        [ngClass]="{ active: filteringMode === 'All' }">All
      </button>
      <button
        (click)="onChangeMode('Active')"
        [ngClass]="{ active: filteringMode === 'Active' }">Active
      </button>
      <button
        (click)="onChangeMode('Completed')"
        [ngClass]="{ active: filteringMode === 'Completed' }">Completed
      </button>
    </div>
    <button
      [disabled]="!todoService.completed"
      (click)="onClearCompleted()">Clear Completed</button>
  </div>
</div>
<div class="todo-footer">
  <button
    (click)="onPrevPage()"
    [ngClass]="{ disabled: !(currentPageLength() > 5 && currentPage >= 1) }"
    class="btn btn-prev">PREV</button>
  <p class="drag-info">Drag and drop to reorder list</p>
  <button
    (click)="onNextPage()"
    [ngClass]="{ disabled: !((currentPage + 1) * 5 < currentPageLength()) }"
    class="btn btn-next">NEXT</button>
</div>

